(()=>{var k=n=>n?n.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)'):(console.warn("You need to pass a parent HTMLElement"),[]);var p=class extends HTMLElement{constructor(){super();let t=this;this.state=new Proxy({status:"open",enabled:!1},{set(s,e,o){let a=s[e];return s[e]=o,a!==o&&t.processStateChange(),s}})}get maxWidth(){return parseInt(this.getAttribute("max-width")||9999,10)}connectedCallback(){this.initialMarkup=this.innerHTML,this.render(),new ResizeObserver(s=>{let{contentRect:e}=s[0];this.state.enabled=e.width<=this.maxWidth}).observe(this.parentNode)}render(){this.innerHTML=`
      <div class="burger-menu" data-element="burger-root">
        <button class="burger-menu__trigger" data-element="burger-menu-trigger" type="button" aria-label="Open menu">
          <span class="burger-menu__bar" aria-hidden="true"></span>
        </button>
        <div class="burger-menu__panel" data-element="burger-menu-panel">
          ${this.initialMarkup} 
        </div>
      </div>
    `,this.postRender()}postRender(){if(this.trigger=this.querySelector('[data-element="burger-menu-trigger"]'),this.panel=this.querySelector('[data-element="burger-menu-panel"]'),this.root=this.querySelector('[data-element="burger-root"]'),this.focusableElements=k(this),this.trigger&&this.panel){this.toggle(),this.trigger.addEventListener("click",t=>{t.preventDefault(),this.toggle()}),document.addEventListener("focusin",()=>{this.contains(document.activeElement)||this.toggle("closed")});return}this.innerHTML=this.initialMarkup}toggle(t){if(t){if(this.state.status===t)return;this.state.status=t}else this.state.status=this.state.status==="closed"?"open":"closed"}processStateChange(){switch(this.root.setAttribute("status",this.state.status),this.root.setAttribute("enabled",this.state.enabled?"true":"false"),this.manageFocus(),this.state.status){case"closed":this.trigger.setAttribute("aria-expanded","false"),this.trigger.setAttribute("aria-label","Open menu");break;case"open":case"initial":this.trigger.setAttribute("aria-expanded","true"),this.trigger.setAttribute("aria-label","Close menu");break}}manageFocus(){if(!this.state.enabled){this.focusableElements.forEach(t=>t.removeAttribute("tabindex"));return}switch(this.state.status){case"open":this.focusableElements.forEach(t=>t.removeAttribute("tabindex"));break;case"closed":[...this.focusableElements].filter(t=>t.getAttribute("data-element")!=="burger-menu-trigger").forEach(t=>t.setAttribute("tabindex","-1"));break}}},A=p;var g=class extends HTMLElement{constructor(){super()}connectedCallback(){this.initCarousel()}initCarousel(){let t=this.querySelectorAll(".carousel-item-container"),s=this.querySelector(".carousel-next"),e=this.querySelector(".carousel-prev"),o=0,a=!0,d=()=>{t.forEach((c,h)=>{c.setAttribute("aria-hidden",h!==o),c.classList.toggle("active",h===o)})},b=()=>{o=(o+1)%t.length,d()},m=()=>{o=(o-1+t.length)%t.length,d()},u=setInterval(()=>{a&&b()},4e3);this.addEventListener("mouseenter",()=>{a=!1,clearInterval(u)});let l=c=>{c.key==="ArrowRight"&&(b(),a=!1,clearInterval(u)),c.key==="ArrowLeft"&&(m(),a=!1,clearInterval(u))};this.addEventListener("focus",()=>{this.addEventListener("keydown",l)}),this.addEventListener("blur",()=>{this.removeEventListener("keydown",l)}),s?.addEventListener("click",()=>{b(),a=!1,clearInterval(u)}),e?.addEventListener("click",()=>{m(),a=!1,clearInterval(u)}),d()}};function y(n){if(!document.querySelector(n))return;let t=document.querySelector(".gallery"),s=Array.from(document.querySelectorAll(n)),e=document.querySelector(".lightbox"),o=e.querySelector(".lightbox-controls"),a=e.querySelectorAll(".lightbox-controls__interior > *"),d=e.querySelector("form .lightbox-controls > .lightbox-alt"),[b,m,w,u]=a,l=0;function c(r){d.textContent=s[r].querySelector(".gallery-item-title").textContent;let i=e.querySelector("[data-lightbox-preview]");i&&i.remove();let f=s[r].querySelector("img");if(!f)return console.warn("No image found for gallery item",r);let v=f.cloneNode(!0);v.removeAttribute("id"),v.setAttribute("data-lightbox-preview",String(r)),o.before(v)}function h(){let r=l+1,i=r>=s.length?0:r;l=i,c(i)}function E(){let r=l-1,i=r<0?s.length-1:r;l=i,c(i)}function L(){let r=s[l].querySelector("img");document.fullscreenElement?r.exitFullscreen?.():r.requestFullscreen()}w.addEventListener("click",h),u.addEventListener("click",E),m.addEventListener("click",L),e.addEventListener("click",r=>{if(r.target===e)return e.close()}),e.addEventListener("keydown",r=>{switch(r.key){case"ArrowRight":h();break;case"ArrowLeft":E();break;case"Escape":e.close();break}}),e.addEventListener("close",()=>{let r=e.querySelector("[data-lightbox-preview]");r&&r.remove()});function S(r,i){r.querySelector(".lightbox-button").addEventListener("click",()=>{l=i,c(i),e.showModal(),e.focus()})}s.forEach((r,i)=>S(r,i))}async function x(n){if(!n)return;let t=n.getAttribute("data-link"),s="Check out Alba Pro Services for your exterior cleaning needs!";if(navigator.share)navigator.share({title:s,url:t}).then(()=>console.log("Content shared successfully!")).catch(e=>console.error("Error sharing:",e));else try{await navigator.clipboard.writeText(t),n.textContent="Link Copied!"}catch(e){console.error(e.message)}}document.querySelectorAll(".btn-share").forEach(n=>n.addEventListener("click",()=>x(n)));"customElements"in window&&(customElements.define("burger-menu",A),customElements.define("carousel-component",g));y(".gallery-item");(function(){let t=Array.from(document.querySelectorAll(".reel")),s=e=>{e.classList.toggle("overflowing",e.scrollWidth>e.clientWidth)};for(let e of t)"ResizeObserver"in window&&new ResizeObserver(o=>{s(o[0].target)}).observe(e),"MutationObserver"in window&&new MutationObserver(o=>{s(o[0].target)}).observe(e,{childList:!0})})();})();
