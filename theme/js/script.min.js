(()=>{var L=r=>r?r.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)'):(console.warn("You need to pass a parent HTMLElement"),[]);var p=class extends HTMLElement{constructor(){super();let e=this;this.state=new Proxy({status:"open",enabled:!1},{set(s,t,i){let a=s[t];return s[t]=i,a!==i&&e.processStateChange(),s}})}get maxWidth(){return parseInt(this.getAttribute("max-width")||9999,10)}connectedCallback(){this.initialMarkup=this.innerHTML,this.render(),new ResizeObserver(s=>{let{contentRect:t}=s[0];this.state.enabled=t.width<=this.maxWidth}).observe(this.parentNode)}render(){this.innerHTML=`
      <div class="burger-menu" data-element="burger-root">
        <button class="burger-menu__trigger" data-element="burger-menu-trigger" type="button" aria-label="Open menu">
          <span class="burger-menu__bar" aria-hidden="true"></span>
        </button>
        <div class="burger-menu__panel" data-element="burger-menu-panel">
          ${this.initialMarkup} 
        </div>
      </div>
    `,this.postRender()}postRender(){if(this.trigger=this.querySelector('[data-element="burger-menu-trigger"]'),this.panel=this.querySelector('[data-element="burger-menu-panel"]'),this.root=this.querySelector('[data-element="burger-root"]'),this.focusableElements=L(this),this.trigger&&this.panel){this.toggle(),this.trigger.addEventListener("click",e=>{e.preventDefault(),this.toggle()}),document.addEventListener("focusin",()=>{this.contains(document.activeElement)||this.toggle("closed")});return}this.innerHTML=this.initialMarkup}toggle(e){if(e){if(this.state.status===e)return;this.state.status=e}else this.state.status=this.state.status==="closed"?"open":"closed"}processStateChange(){switch(this.root.setAttribute("status",this.state.status),this.root.setAttribute("enabled",this.state.enabled?"true":"false"),this.manageFocus(),this.state.status){case"closed":this.trigger.setAttribute("aria-expanded","false"),this.trigger.setAttribute("aria-label","Open menu");break;case"open":case"initial":this.trigger.setAttribute("aria-expanded","true"),this.trigger.setAttribute("aria-label","Close menu");break}}manageFocus(){if(!this.state.enabled){this.focusableElements.forEach(e=>e.removeAttribute("tabindex"));return}switch(this.state.status){case"open":this.focusableElements.forEach(e=>e.removeAttribute("tabindex"));break;case"closed":[...this.focusableElements].filter(e=>e.getAttribute("data-element")!=="burger-menu-trigger").forEach(e=>e.setAttribute("tabindex","-1"));break}}},A=p;var g=class extends HTMLElement{constructor(){super()}connectedCallback(){this.initCarousel()}initCarousel(){let e=this.querySelectorAll(".carousel-item-container"),s=this.querySelector(".carousel-next"),t=this.querySelector(".carousel-prev"),i=0,a=!0,d=()=>{e.forEach((c,h)=>{c.setAttribute("aria-hidden",h!==i),c.classList.toggle("active",h===i)})},b=()=>{i=(i+1)%e.length,d()},f=()=>{i=(i-1+e.length)%e.length,d()},u=setInterval(()=>{a&&b()},4e3);this.addEventListener("mouseenter",()=>{a=!1,clearInterval(u)});let l=c=>{c.key==="ArrowRight"&&(b(),a=!1,clearInterval(u)),c.key==="ArrowLeft"&&(f(),a=!1,clearInterval(u))};this.addEventListener("focus",()=>{this.addEventListener("keydown",l)}),this.addEventListener("blur",()=>{this.removeEventListener("keydown",l)}),s?.addEventListener("click",()=>{b(),a=!1,clearInterval(u)}),t?.addEventListener("click",()=>{f(),a=!1,clearInterval(u)}),d()}};function y(r){if(!document.querySelector(r))return;let e=document.querySelector(".gallery"),s=Array.from(document.querySelectorAll(r)),t=document.querySelector(".lightbox"),i=t.querySelector(".lightbox-controls"),a=t.querySelectorAll(".lightbox-controls__interior > *"),d=t.querySelector("form .lightbox-controls > .lightbox-alt"),[b,f,E,u]=a,l=0;function c(n){d.textContent=s[n].querySelector(".gallery-item-title").textContent;let o=t.querySelector("[data-lightbox-preview]");o&&o.remove();let m=s[n].querySelector("img");if(!m)return console.warn("No image found for gallery item",n);let v=m.cloneNode(!0);v.removeAttribute("id"),v.setAttribute("data-lightbox-preview",String(n)),i.before(v)}function h(){let n=l+1,o=n>=s.length?0:n;l=o,c(o)}function w(){let n=l-1,o=n<0?s.length-1:n;l=o,c(o)}function q(){let n=s[l].querySelector("img");document.fullscreenElement?n.exitFullscreen?.():n.requestFullscreen()}E.addEventListener("click",h),u.addEventListener("click",w),f.addEventListener("click",q),t.addEventListener("click",n=>{if(n.target===t)return t.close()}),t.addEventListener("keydown",n=>{switch(n.key){case"ArrowRight":h();break;case"ArrowLeft":w();break;case"Escape":t.close();break}}),t.addEventListener("close",()=>{let n=t.querySelector("[data-lightbox-preview]");n&&n.remove()});function I(n,o){n.querySelector(".lightbox-button").addEventListener("click",()=>{l=o,c(o),t.showModal(),t.focus()})}s.forEach((n,o)=>I(n,o))}async function x(r){if(!r)return;let e=r.getAttribute("data-link"),s="Check out Alba Pro Services for your exterior cleaning needs!";if(navigator.share)navigator.share({title:s,url:e}).then(()=>console.log("Content shared successfully!")).catch(t=>console.error("Error sharing:",t));else try{await navigator.clipboard.writeText(e),r.textContent="Link Copied!"}catch(t){console.error(t.message)}}function k(r,e){return{handler:r,config:e}}k.withOptions=function(r,e=()=>({})){function s(t){return{handler:r(t),config:e(t)}}return s.__isOptionsFunction=!0,s};var _=k,C={start(){if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",()=>this.observe());return}this.observe()},restart(){this._observers.forEach(r=>r.disconnect()),this._observers=[],this.observe()},observe(){let r=['[class*=" intersect:"]','[class*=":intersect:"]','[class^="intersect:"]','[class="intersect"]','[class*=" intersect "]','[class^="intersect "]','[class$=" intersect"]'];document.querySelectorAll(r.join(",")).forEach(e=>{let s=new IntersectionObserver(t=>{t.forEach(i=>{if(!i.isIntersecting){e.setAttribute("no-intersect","");return}e.removeAttribute("no-intersect"),e.classList.contains("intersect-once")&&s.disconnect()})},{threshold:this._getThreshold(e)});s.observe(e),this._observers.push(s)})},_getThreshold(r){return r.classList.contains("intersect-full")?.99:r.classList.contains("intersect-half")?.5:0},_observers:[]},S=C,F=_(({addVariant:r})=>{r("intersect","&:not([no-intersect])")});document.querySelectorAll(".btn-share").forEach(r=>r.addEventListener("click",()=>x(r)));"customElements"in window&&(customElements.define("burger-menu",A),customElements.define("carousel-component",g));y(".gallery-item");S.start();(function(){let e=Array.from(document.querySelectorAll(".reel")),s=t=>{t.classList.toggle("overflowing",t.scrollWidth>t.clientWidth)};for(let t of e)"ResizeObserver"in window&&new ResizeObserver(i=>{s(i[0].target)}).observe(t),"MutationObserver"in window&&new MutationObserver(i=>{s(i[0].target)}).observe(t,{childList:!0})})();})();
